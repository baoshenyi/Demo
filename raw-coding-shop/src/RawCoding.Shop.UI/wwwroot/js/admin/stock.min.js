var app=new Vue({el:"#app",data:{products:[],selectedProduct:null,newStock:{productId:0,description:"Size",qty:10}},mounted:function(){this.getStock()},methods:{getStock:function(){this.loading=!0;axios.get("/stocks").then(n=>{console.log(n),this.products=n.data}).catch(n=>{console.log(n)}).then(()=>{this.loading=!1})},updateStock:function(){this.loading=!0;axios.put("/stocks",{stock:this.selectedProduct.stock.map(n=>({id:n.id,description:n.description,qty:n.qty,productId:this.selectedProduct.id}))}).then(n=>{console.log(n),this.selectedProduct.stock.splice(index,1)}).catch(n=>{console.log(n)}).then(()=>{this.loading=!1})},deleteStock:function(n,t){this.loading=!0;axios.delete("/stocks/"+n).then(n=>{console.log(n),this.selectedProduct.stock.splice(t,1)}).catch(n=>{console.log(n)}).then(()=>{this.loading=!1})},addStock:function(){this.loading=!0;axios.post("/stocks",this.newStock).then(n=>{console.log(n),this.selectedProduct.stock.push(n.data)}).catch(n=>{console.log(n)}).then(()=>{this.loading=!1})},selectProduct:function(n){this.selectedProduct=n;this.newStock.productId=n.id}}});